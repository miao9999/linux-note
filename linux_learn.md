











### 终端命令的格式

command [-options] [parameter]

说明：

- command：命令名，相应功能的英文单词或单词的缩写
- [-options]：选项，可用来对命令进行控制，也可以省略
- parameter：传给命令的参数，可以是0个，一个或多个
- [] ：代表可选

###  linux 命令

#### 常用命令

| 命令          | 对应英文             | 作用                     |
| ------------- | -------------------- | ------------------------ |
| ls            | list                 | 查看当前文件夹下的内容   |
| pwd           | print work directory | 查看当前所在文件夹       |
| cd[目录名]    | changed directory    | 切换文件夹               |
| touch[文件名] | touch                | 如果文件不存在，新建文件 |
| mkdir[目录名] | make directory       | 创建目录                 |
| rm[文件名]    | remove               | 删除指定的文件名         |
| clear         | clear                | 清屏                     |



#### 查阅命令帮助信息

1. command —help 显示命令的帮助信息

2. man command    查阅 command 命令的使用手册
   
   man 命令的操作键
   
   | 操作键|功能|
   |--- |--- |
   |空格键 |显示手册页的下一屏 |
   |enter 键 |一次滚去手册页的一行 |
   |b|回滚一屏 |
   |f |前滚一屏 |
   |q |退出|
   |/word |搜索 word 字符串 |



#### 文件和目录常用命令

1. ls 常用选项

   | 参数| 含义|
   |--- |--- |
   |-a |显示指定目录下所有子目录与文件，包括隐藏文件 |
   | -l |以列表方式显示文件的详细信息 |
   | -h|配合-l 以人性化的方式显示文件大小 |
   
2. ls 通配符的使用

   |通配符 |含义 |
   |---|---|
   |\* |代表任意个数的字符 |
   |? |代表任意一个字符 |
   |[] | 表示可以匹配字符组中的任意一个|
   |[abc] |匹配 a、b、c 中的任意一个 |
   |[a-f] |匹配从 a 到 f 范围内的任意一个字符 |
   
3. cd 扩展

   |命令 |含义 |
   |---|---|
   |cd |切换到当前用户的主目录/home/(用户目录) |
   |cd ~ |切换到当前用户的主目录/home/(用户目录) |
   |cd . |保持在当前目录不变 |
   |cd - |可以在最近两次工作目录之间来回切换 |
   
4. mkdir 扩展

   |选项 |含义 |说明|
   |---|---|---|
   |-p 目录名 |可以递归连续创建多个目录 | 新建目录的名称不能与当前目录中已有的目录或文件同名|
   
5. rm 扩展

   |选项 |含义 |
   |---|---|
   |-f |强制删除，忽略不存在的文件，无需提示 |
   |-r |递归删除目录下的内容，删除文件夹时必须加此参数 |



#### 拷贝和移动文件

|命令 | 对应英文 | 作用 |
|----|----|----|
|tree[目录名]|tree|以树状图列出文件目录结构|
|cp 源文件 目标文件|copy|复制文件或者目录|
|mv 源文件 目标文件|move|移动文件或目录/文件或目录重命名|

1. tree 扩展

   | 选项|含义 |
   |---|---|
   |-d|只显示目录|
   
2. cp 扩展
   |选项|含义|
   |---|---|
   |-i |覆盖文件前提示 |
   |-r |若给出的源文件是目录文件，则 cp 将递归复制目录下的所有子目录和文件，目标文件必须为一个目录名 |
   |-f|已经存在的目标文件直接覆盖，不会提示|
   
3. mv 扩展

   |选项|含义|
   |---|---|
   | -i| 覆盖文件前提示|
   



#### 查看文件内容

| 命令                | 对应英文    | 作用                                                 |
| ------------------- | ----------- | ---------------------------------------------------- |
| cat 文件名          | concatenate | 查看文件内容、创建文件、文件合并、所加文件内容等功能 |
| more 文件名         | more        | 分屏显示文件内容                                     |
| grep 搜索文本文件名 | grep        | 搜索文本文件内容                                     |

1. cat 扩展

   | 选项 | 含义                           |
   | ---- | ------------------------------ |
   | -b   | 显示文件内容的行号，不包括空行 |
   | -n   | 显示文件内容的行号，包括空行   |

   > Linux 中还有一个 nl 的命令和 cat -b 的效果等价

2. grep 扩展

   | 选项 | 含义                                   |
   | ---- | -------------------------------------- |
   | -n   | 显示匹配行及行号                       |
   | -v   | 显示不包含匹配文本的所有行(相当于求反) |
   | -i   | 忽略大小写                             |


   常用的两种模式查找

| 参数 | 含义                    |
| ---- | ----------------------- |
| ^a   | 行首，搜寻以a 开头的行  |
| b$   | 行尾，搜寻以 b 结尾的行 |



#### 重定向、 echo、管道

1. echo 文字内容

   echo 会在终端中显示参数指定的文字，通常会和重定向联合使用

2. 重定向 > 和 >> 

   - linux 允许将命令执行结果重定向到一个文件
   - 将本应显示在终端在的内容输出/追加到指定文件中
   - \> 表示输出，会覆盖文件原有的内容
   - \>> 表示追加，会将内容追加到已有文件的末尾

3. 管道 |

   - linux 允许将一个命令输出可以通过管道做为另一个命令的输入
   - 可以理解为现实生活中的管子，管子的一头塞东西进去，另一头取出来，这里 | 的左右分为两端，左端塞东西(写)，右端取东西(读)

   常用的管道命令有：

   - more：分屏显示内容
   - grep：在命令执行结果的基础上查询指定的文本



#### 远程管理命令

##### 1.关机和重启

| 命令 | 对应 |作用|
| ---- | ---- |---|
| shutdown 选项 时间 | shutdown |关机/重启|

1. shutdown：可以安全的关闭或者重启系统

    shutdown 扩展

   | 选项 | 含义     |
   | ---- | -------- |
   | -r   | 重新启动 |

   > 提示：
   >
   > - 不指定选项和参数，默认表示1分钟之后关闭电脑
   > - 远程维护服务器时，最好不要关闭系统，而应该重新启动系统

   常用命令示例

   ```shell
   重新启动操作系统，其中 now 表示现在
   shutdown -r now 
   
   立刻关机，其中 now 表示现在
   shutdown now
   
   系统在今天的 20：32 会关机
   shutdown 20：32
   
   系统再过10分钟会自动关机
   shutdown +10
   
   取消之前指定的关机计划
   shutdown -c
   ```


##### 2. 查看可配置网上信息

| 命令         | 对应英文                      | 作用                             |
| ------------ | ----------------------------- | -------------------------------- |
| ifconfig     | configure a network interface | 查看/配置计算机当前的网卡信息    |
| ping ip 地址 | ping                          | 检测到目标 ip 地址的连接是否正常 |

1. 网卡和 IP 地址

   **网卡**

   - 网卡是一个专门负责网络通讯的硬件设备
   - IP 地址是设置在网卡上的地址信息

   > 我们可以把电脑比作电话，网卡相当于 SIM 卡，IP 地址相当于电话号码

   **IP 地址**

   - 每台联网的电脑上都有 IP 地址，是保证电脑之间正常通讯的重要设置

   > 注意：每台电脑的 IP 地址不能相同，否则会出现 IP 地址冲突，并且有办法正常通讯

2. ifconfig
   常用命令

   ```shell
   查看网上配置信息
    ifconfig
   查看网上对应的 ip 地址
   ifconfig | grep inet
   ```

   > 提示：一台计算机中有可能会有一个物理网卡和多个虚拟网卡，在 Linux 中物理网卡的名字通常以 ensXX表示

   - 127.0.0.1被称为本地环回地址，一般用来测试本机网卡是否正常

3. ping 

   ``` 
   检测到目标主机是否连接正常
   ping iP 地址
   
   检测本地网卡工作正常
   ping 172.0.0.1
   ```

   - ping 一般用于检测当前计算机到目标计算机之间的网络是否畅通，数值越大，速度越慢
   - ping 的工作原理与潜水艇的声纳相似，ping 这个命令就是取自声纳的声音，网络管理员之间也学将 ping 用作动词---ping 一下计算机 x，看他是否开着
   - 原理：网络上的机器有唯一确定的IP 地址。我们给目标 IP 地址发送一个数据包，对方就要返回一个数据包，根据返回的数据包以及时间，我们可以确定目标主机的存在

   > 提示：在 linux 中，想要终止一个终端程序的执行，绝大多数都可以用 ctrl + c

##### 3. 远程管理命令(ssh)

| 命令                                                         | 对应英文     | 作用         |
| ------------------------------------------------------------ | ------------ | ------------ |
| ssh 用户名@远程地址                                          | secure shell | 关机/重启    |
| scp 用户名@远程地址 文件名或路径 用户名@远程地址 文件名或路径 | secure copy  | 远程复制文件 |

1. ssh 基础
   在 Linux 中 SSH 是非常常用的工具，通过 SSH 客户端我们可以连接到运行了 SSH 服务器的远程机器上

   - SSH 客户端是一种使用 secure shell 协议连接到远程计算机的软件程序
   - SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议
   - 利用 SSH 协议可以有效防止远程管理过程中的信息泄漏
   - 通过 SSH 协议可以对所有传输的数据进行加密，也能够防止 DNS 欺骗和 IP 欺骗
   - SSH 的另一项优点是传输的数据可以是经验丰富压缩的，所以可以加快传输速度

2. 域名和端口号

   **域名**

   - 由一串用点分隔的名字组成。如：www.baidu.com
   - 是 IP  地址的别名，方便用户记忆

   **端口号**

   - IP 地址：通过 IP 地址找到网络上的计算机
   - 端口号：通过端口号可以找到计算机上运行的应用程序

   常见服务器端口号：

   | 服务       | 端口号 |
   | ---------- | ------ |
   | SSH 服务器 | 22     |
   | web 服务器 | 80     |
   | HTTPS      | 445    |
   | FTP 服务器 | 21     |

3. SSH 客户端的简单使用

   **ssh 命令的格式**

   ssh [-p port] user@remote

   - user：是在远程机器上的用户名，如果不指定的话默认当前用户
   - remote：是远程机器的地址，可以是 IP/域名，或者是别名
   - prot：是 SSH Server 监听的端口，如果不指定，就为默认值22。如果使用的默认端口 -p 选项可以省略

   > 提示：
   >
   > - 使用 exit 退出当前用户的登录
   >
   > 注意：
   >
   > - ssh 这个终端命令只能在 Linux 或者 unix 系统下使用
   > - 如果在 Windows 系统中，可以安装 PuTTY 或者 XShell 客户端软件即可

   

   > 在使用 mac 远程连接 Linux 时，可能会提示  ssh: connect to host 192.168.1.106 port 22: Connection refused的错误
   >
   > 造成这个原因可能是ssh-Server 未安装
   >
   > 运行 ps -e | grep ssh，查看是否有 sshd 进程
   >
   > 如果没有，说明 Server 没有启动  
   >
   > 使用 sudo /etc/init.d/ssh start 启动 ，如果提示没有 ssh 命令
   >
   > 通过 sudo apt-get install openssh-server 命令安装即可

   

   

   

   

4. scp 
   它的地址格式与 ssh 基本相同，需要注意的是，在指定端口用的是大写的 P，而不是小写的

   **scp 扩展**

   

   | 选项 | 含义                                                         |
   | ---- | ------------------------------------------------------------ |
   | -r   | 若给出的源文件是目录文件，则 scp 将递归复制到该目录下的所有子目录和文件，目标文件必须为一个目录名 |
   | -P   | 若远程 ssh 服务器的端口不是22，需要使用大写字母 P 选项指定窗口 |

   **命令格式**

   ```
   把本地指定目录下的 01.py 文件复制到远程 home 目录下的 Desktop/01.py
   注意："："后面的路径如果不是绝对路径，则以用户的 home 目录为参照路径
   scp -P prot 01.py user@remote：Desktop/01.py 01.py
   
   把远程 home 目录下的 Desktop/01.py 文件复制到本地当前目录下的 01.py
   scp -P port user@remote：Desktop/01.py 01.py
   
   加上-r 选项可以传送文件夹
   把当前目录下的 demo 文件夹复制到远程 home 目录下的 Desktop
   scp -r demo user@remote：Desktop
   
   把远程 home 目录下的 Desktop 复制到当前目录下的 demo 文件夹
   scp -r user@remote：Desktop demo
   ```





##### SSH 免密码登录 、配置别名

> 提示：有关 ssh 配置信息都保存在用户的 home 目录下的 .ssh 目录下

1. 免密登录

   - 配置公钥
     执行 ssh-keygen 即可生成 ssh 钥匙，一路回车即可
   - 上传公钥到服务器
     执行 ssh-copy-id -p port user@remote，可以让远程服务器记住我们的公钥

2. 配置别名

   - 在.ssh 目录中新建 config 文件

   - 在 config 文件里添加如下内容

     ```
     Host 别名
     HostName ip 地址 
     User 远程计算机用户名
     Port 端口
     
     ```

   - 之后就可以用 ssh 别名  直接登录到远程计算机，scp 也可以用别名

   

### linux 快捷键 

| 快捷键           | 描述                   |
| :--------------- | ---------------------- |
| ctrl + shift + = | 放大终端窗口的字体显示 |
| ctrl + -         | 缩小终端窗口的字体显示 |
|                  |                        |
|                  |                        |
|                  |                        |
|                  |                        |
|                  |                        |
|                  |                        |

